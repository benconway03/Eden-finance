<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Conway Capital · Portfolio Growth</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="{{ url_for('static', filename='styles.css') }}" rel="stylesheet">
  </head>

  <body>
    <!-- ╭────────────────── HEADER ──────────────────╮ -->
    <header class="navbar">
      <h1>CONWAY&nbsp;CAPITAL</h1>
      <nav>
        <!-- purely decorative links for parity with the mock-up -->
        <a href="#">About</a>
        <a href="#">Contact</a>
      </nav>
    </header>

    <!-- ╭────────────────── CARD ────────────────────╮ -->
    <main class="card">

      <!-- hero headline + decorative rectangle -->
      <section class="hero">
        <h2>Investing<br>in your future</h2>
        <div class="rectangle"></div>
      </section>

      {% if error %}
        <p class="alert error">{{ error }}</p>
      {% endif %}

      <form method="post">
        <!-- DATE PICKERS -->
        <div class="row">
          <label>Start&nbsp;<input type="date" name="start_date" value="{{ start_default }}"></label>
          <label>End&nbsp;<input type="date" name="end_date" value="{{ end_default }}"></label>
        </div>

        <!-- HOLDINGS -->
        <div id="rows">
          <div class="row">
            <input name="ticker[]"  placeholder="Ticker">
            <input name="amount[]" placeholder="£ Start Amount">
          </div>
        </div>

        <!-- BUTTONS -->
        <div class="buttons">
          <button type="button" id="addRow" class="ghost">+ Add holding</button>
          <button type="submit" class="primary">Plot growth →</button>
        </div>
      </form>

      {% if plot_url %}
        <h2 class="subheading">Result</h2>
        <img class="plot" src="data:image/png;base64,{{ plot_url }}" alt="Growth chart">
      {% endif %}
    </main>

    <!-- ╭────────────────── FOOTER ───────────────────╮ -->
    <footer class="footer">
      &copy; Conway Capital. All rights reserved.
    </footer>

    <script>
      // duplicate the first row on click
      document.getElementById('addRow').onclick = () => {
        document.getElementById('rows').insertAdjacentHTML('beforeend', `
          <div class="row">
            <input name="ticker[]"  placeholder="Ticker">
            <input name="amount[]" placeholder="£ Start Amount">
          </div>`);
      };
    </script>
  </body>
</html>
